<!DOCTYPE html>
<html lang="en-us">
    
  <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.48" />

    

<title>unclesky4 BLOG</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="unclesky4 BLOG"/>
<meta name="twitter:description" content="♩♪初 心 莫 负❦"/>

<meta property="og:title" content="unclesky4 BLOG" />
<meta property="og:description" content="♩♪初 心 莫 负❦" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://unclesky4.github.io/" />
<meta property="og:updated_time" content="2018-09-09T17:36:15&#43;08:00"/>

    


<link rel="stylesheet" href="/css/hyde-hyde.css">
<link rel="stylesheet" href="/css/print.min.css" media="print">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

<link href="https://unclesky4.github.io/index.xml" rel="alternate" type="application/rss+xml" title="unclesky4 BLOG" />
<link href="https://unclesky4.github.io/index.xml" rel="feed" type="application/rss+xml" title="unclesky4 BLOG" />


</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://unclesky4.github.io/">unclesky4 BLOG</a>
      </span>
      
      
      
      <div class="author-image">
        <img src="https://unclesky4.github.io/img/sheild.jpg" alt="Author Image" class="img--circle img--headshot element--center"> 
      </div>
      
      <p class="site__description">
         ♩♪初 心 莫 负❦ 
      </p>
    </div>
    <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/home">
						<span>HOME</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/java">
						<span>JAVA</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/javaee/">
						<span>JAVAEE</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/linux/">
						<span>Linux</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/html/">
						<span>WEB前端</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/database/">
						<span>数据库</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/notes/">
						<span>随笔文档</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

    <p>
      <section class="social">
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

    </p>
    <p class="copyright">
      Copyright (c) 2018, unclesky4
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            
  <div class="post-list">
    
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/home/">Home</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
         个人博客 
        
        
        </div>
        
     
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/database/centos7-mariadb%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/">Centos7 Mariadb的安装与配置</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        安装MariaDB
 安装命令
yum -y install mariadb mariadb-server  安装完成MariaDB，首先启动MariaDB
systemctl start mariadb  设置开机启动
systemctl enable mariadb   安全设置
 执行命令:
 mysql_secure_installation  首先是设置密码，会提示先输入密码
 Enter current password for root (enter for none):&lt;–初次运行直接回车  设置密码
 Set root password? [Y/n] &lt;– 是否设置root用户密码，输入y并回车或直接回车 New password: &lt;– 设置root用户的密码 Re-enter new password: &lt;– 再输入一次你设置的密码  其他配置
 Remove anonymous users? [Y/n] &lt;– 是否删除匿名用户，回车
 Disallow root login remotely? [Y/n] &lt;–是否禁止root远程登录,回车,
        
        
        <div class="read-more-link">
            <a href="/database/centos7-mariadb%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/">Read More…</a>
        </div>
        
        </div>
        
     
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/">Java位运算</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        1. 判断int型变量a是奇数还是偶数 a&amp;1 = 0 偶数 a&amp;1 = 1 奇数 2. 求平均值，比如有两个int类型变量x、y,首先要求x+y的和，再除以2，但是有可能x+y的结果会超过int的最大表示范围，所以位运算就派上用场啦。 (x&amp;y)+((x^y)&gt;&gt;1); 3. 对于一个大于0的整数，判断它是不是2的几次方 ((x&amp;(x-1))==0)&amp;&amp;(x!=0)； 4. 比如有两个int类型变量x、y,要求两者数字交换，位运算的实现方法：性能绝对高效 x ^= y; y ^= x; x ^= y; 5. 求绝对值 int abs( int x ) { int y ; y = x &gt;&gt; 31 ; return (x^y)-y ; //or: (x+y)^y } 6. 取模运算，采用位运算实现： a % (2^n) 等价于 a &amp; (2^n - 1) 7. 乘法运算 采用位运算实现 a * (2^n) 等价于 a &lt;&lt; n 8.
        
        
        <div class="read-more-link">
            <a href="/java/java%E4%BD%8D%E8%BF%90%E7%AE%97/">Read More…</a>
        </div>
        
        </div>
        
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/java/jsonconfig%E7%9A%84%E4%BD%BF%E7%94%A8/">JsonConfig的使用</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        我们通常对一个Json串和Java对象进行互转时，经常会有选择性的过滤掉一些属性值，而json-lib包中的JsonConfig为我们提供了这种 功能，具体实现方法有以下几种。(1)建立JsonConfig实例，并配置属性排除列表,(2)用属性过滤器,(3)写一个自定义的 JsonBeanProcessor. 1. 实现JSONString接口的方法 public class Person implements JSONString { private String name; private String lastname; private Address address; // getters &amp; setters public String toJSONString() { return &quot;{name:'&quot;+name+&quot;',lastname:'&quot;+lastname+&quot;'}&quot;; } } 2.第二种方法通过jsonconfig实例，对包含和需要排除的属性进行方便的添加或删除 public class Person { private String name; private String lastname; private Address address; // getters &amp; setters } JsonConfig jsonConfig = new JsonConfig(); jsonConfig.setExclusions( new String[]{&quot;address&quot;}); Person bean = new Person(&quot;jack&quot;,&quot;li&quot;); JSON json = JSONSerializer.toJSON(bean, jsonConfig); 3.
        
        
        <div class="read-more-link">
            <a href="/java/jsonconfig%E7%9A%84%E4%BD%BF%E7%94%A8/">Read More…</a>
        </div>
        
        </div>
        
     
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/javaee/shiro%E5%88%B7%E6%96%B0%E6%9D%83%E9%99%90/">Shiro刷新权限</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        自定义Realm添加如下代码：
 public void clearAuthz(){ this.clearCachedAuthorizationInfo(SecurityUtils.getSubject().getPrincipals()); } /** * shiro刷新权限 */ public static void reloadAuthorizing() { LoggerFactory.getLogger(This.class).info(&quot;权限刷新成功&quot;); RealmSecurityManager rsm = (RealmSecurityManager)SecurityUtils.getSecurityManager(); MyShiroRealm realm = (MyShiroRealm)rsm.getRealms().iterator().next(); realm.clearAuthz(); }  
        
        
        </div>
        
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/javaee/mybatis%E7%94%A8typehandler%E5%A4%84%E7%90%86enum%E7%B1%BB%E5%9E%8B/">Mybatis用typeHandler处理enum类型</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        如果想使用mybatis自带的枚举类处理，有2种方式，一个是EnumTypeHandler，一个是EnumOrdinalTypeHandler。 区别如下: EnumTypeHandler直接存储name值。它是mybatis默认的枚举类型转换器。 EnumOrdinalTypeHandler存储enum类里的序号值，此时数据库表字段一般对应用smallint/int类型的处理。 使用的时侯很简单，在insert或者update语句块，或者resultMap字段等地方指定相应的typeHandler即可。 &lt;insert id=&quot;insertUser&quot; parameterType=&quot;User&quot;&gt; insert into user(id,userName,status) values(#{id},#{userName},#{status,typeHandler=org.apache.ibatis.type.EnumOrdinalTypeHandler}) &lt;/insert&gt; 或 &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;User&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;userId&quot; jdbcType=&quot;INTEGER&quot; /&gt; &lt;result column=&quot;status&quot; property=&quot;status&quot; typeHandler=&quot;org.apache.ibatis.type.EnumOrdinalTypeHandler&quot;/&gt; &lt;/resultMap&gt; 不过大多数情况下，想存储的并不是枚举的顺序号，而是存储自定义的id值，这时我们就需要自己写enum的处理类。 若程序中原来有一个枚举类，name是长沙、株洲、湘潭三地，value采用身份证上的地区编号。 public enum CityTest { ChangSha(4301),Zhuzhou(4302),Xiangtan(4303); int value; private CityTest(int value){ this.value=value; } public int getValue() { return this.value; } /*方法Value2CityTest是为了typeHandler后加的*/ public static CityTest Value2CityTest(int value) { for (CityTest citytest : CityTest.values()) { if (citytest.value == value) { return citytest; } } throw new IllegalArgumentException(&quot;无效的value值: &quot; + value + &quot;!
        
        
        <div class="read-more-link">
            <a href="/javaee/mybatis%E7%94%A8typehandler%E5%A4%84%E7%90%86enum%E7%B1%BB%E5%9E%8B/">Read More…</a>
        </div>
        
        </div>
        
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/javaee/%E6%A1%86%E6%9E%B6%E6%80%BB%E7%BB%93/">框架总结</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        Swagger2,sosoapi(接口文档在线生成)
kafka,activemq(消息中间件)
ehcache,redis(缓存)
hadoop(分布式系统)
hbase(分布式数据库)
zookeeper(分布式应用程序协调服务)
dubbo(分布式服务架构RPC)
Spring Cloud(一系列框架的集合)
druid(数据库连接池)
jdbcTemplate(jdbc小工具，非框架)
jpa,mybatis,hibernate(ORM框架)
thymeleaf,freemarker(模版引擎)
shiro(权限控制框架)
spring boot(微服务架构)
slf4j(日志系统规范，logback,log4j是其实现)
hibernate-validator(参数验证工具)
lombok(简化代码的java库)
Gson(谷歌json解析框架)
zxing(二维码处理库)
UserAgentUtils(判断客户端类型库)
spring webflux 异步非阻塞框架

其他：
netty NIO框架
Vert.x Vert.x框架基于事件和异步,依托于全异步Java服务器Netty
protobuf 序列化协议
序列化框架：
Gson json类
kryo 二进制类
protostuff,avro RPC类
        
        
        </div>
        
     
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/linux/centos7%E7%AC%94%E8%AE%B0/">Centos7笔记</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        centos最小好化安装没有ifconfig命令
 yum install net-tools
ifconfig命令在net-tools软件包里
nslookup,dig在bind-utils中
centos使用了systemd来代替sysvinit
 systemd使用方法：
 systemd的服务管理程序:systemctl
systemctl是最主要的工具。它融合service和chkconfig的功能于一体。你可以使用它永久性或只在当前会话中启用/禁用服务.
如何启动/关闭、启用/禁用服务？ 运行一个服务： systemctl start foo.service
关闭一个服务： systemctl stop foo.service 重启一个服务： 重启一个服务： systemctl restart foo.service 显示一个服务（无论运行与否）的状态： systemctl status foo.service 在开机时启用一个服务： systemctl enable foo.service 在开机时禁用一个服务： systemctl disable foo.service
查看服务是否开机启动：systemctl is-enabled iptables.service;echo $?
   任务 旧指令 新指令     使某服务自动启动 chkconfig &ndash;level 3 httpd on systemctl enable httpd.service   使某服务不自动启动 chkconfig &ndash;level 3 httpd off systemctl disable httpd.
        
        
        <div class="read-more-link">
            <a href="/linux/centos7%E7%AC%94%E8%AE%B0/">Read More…</a>
        </div>
        
        </div>
        
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/linux/centos7%E6%A1%8C%E9%9D%A2%E5%8F%8A%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87%E8%BD%AF%E4%BB%B6/">Centos7桌面及开发必备软件</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        必备软件
 1. Ibus输入法软件
2. FireFox浏览器
3. 微信 (Electronic WeChat)
需node.js环境, 安装npm
4. 压缩/解压工具
yum install rar unrar zip unzip p7zip
5. VIM安装
 娱乐软件
 1. VLC 播放器
2. DeadBeef 音乐播放器
3. Transmission下载工具
 开发相关软件
 1. gcc系列
 yum install gcc gcc++ gcc-gfortran compat-gcc-44 compat-gcc-44-c++ compat-libf2c-34 yum install make cmake gdb clang  2. 版本控制
yum install git
配置：
git config &ndash;global user.name &ldquo;username&rdquo;
git config &ndash;global user.
        
        
        <div class="read-more-link">
            <a href="/linux/centos7%E6%A1%8C%E9%9D%A2%E5%8F%8A%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87%E8%BD%AF%E4%BB%B6/">Read More…</a>
        </div>
        
        </div>
        
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/linux/centos7_setting/">Centos7_Setting</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        1.安装 - 自定义分区
 / ：根目录，合理使用并及时清理的话15G就够了，不过建议30G以上；
swap ：与物理内存大小一致即可；
/boot : 300Mb足够;
/home ：余下的全部空间
注：除以上分区外，可以再自定义分区,如/opt,/data
 2.删除多余的kernel
  yum update 执行之后，可能会将kernel也一起更新，则在启动CentOS时启动项中会有很多项。 确认当前使用的kernel版本号: $ uname -r 3.10.0-123.9.3.el7.x86_64 查找当前系统安装的所有kernel: $ rpm -qa | grep kernel | sort kernel-3.10.0-123.8.1.el7.x86_64 kernel-3.10.0-123.9.2.el7.x86_64 kernel-3.10.0-123.9.3.el7.x86_64 kernel-devel-3.10.0-123.8.1.el7.x86_64 kernel-devel-3.10.0-123.9.2.el7.x86_64 kernel-devel-3.10.0-123.9.3.el7.x86_64 kernel-headers-3.10.0-123.9.3.el7.x86_64 kernel-tools-3.10.0-123.9.3.el7.x86_64 kernel-tools-libs-3.10.0-123.9.3.el7.x86_64 可以看出有三个版本的kernel，123.8.1、123.9.2和123.9.3。除了最新的kernel外，建议多保留一个旧kernel，以免新kernel出现问题时可以通过旧kernel进入系统。因而此处删除123.8.1版本的kernel: sudo yum remove kernel-3.10.0-123.8.1.el7.x86_64 sudo yum remove kernel-devel-3.10.0-123.8.1.el7.x86_64   3.NTFS驱动
 CentOS下默认无法挂载NTFS格式的硬盘。需安装nfts-3g即可实现即插即用:
sudo yum install ntfs-3g
 4.安装第三方源
  epel源  sudo yum install epel-release
        
        
        <div class="read-more-link">
            <a href="/linux/centos7_setting/">Read More…</a>
        </div>
        
        </div>
        
     
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/notes/mplayer%E7%94%A8%E6%B3%95/">Mplayer用法</a>
        </span>
        <span class="item__date">
          Sep 09, 2018
        </span>
        
        1，录音: mplayer mms://202.***.***.***/test.asf -dumpstream -dumpfile MyMovie.asf 可以把mms ,rtsp.http.ftp….等协议的视频流录制下来,保存为 MyMovie.asf 文件. 2,把mplayer可以播放的文件转化为avi格式： mencoder yourfile.rm -ovc copy -oac copy -o testOut.avi 3，如何转化为mp3文件： mplayer -vo null -ao pcm music.wmv lame -h audiodump.wav music.mp3 4， 如何把一个目录下所有图片转化为一个视频文件 mencoder /*.jpg -mf on:fps=25 -o output.avi -ovc divx4 5，如何用wget来看视频? wget ftp://micorsops.com/something.avi -O - | mplayer - 6，用mplayer播放rtp等使用tcp socket -rtsp-stream-over-tcp 7，mplayer播放带密码的地址 mplay rtsp://&lt;username&gt; :&lt;password&gt; @&lt;hostname&gt; :&lt;etc.&gt; 8，mplayer 无法播放某些rm的文件原因 Note that the LIVE555 Streaming Media libraries do not support RealAudio and/or RealVideo streams - even those described by a &quot;rtsp://&quot; URL - because these streams do not use RTP for transport.
        
        
        <div class="read-more-link">
            <a href="/notes/mplayer%E7%94%A8%E6%B3%95/">Read More…</a>
        </div>
        
        </div>
        
     
  </div>

        </div>
        

<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>


    </body>
</html>
